{% extends "base.html" %}
{% block title %}订单查询 - Sara的二手售卖{% endblock %}
{% block content %}

<div class="max-w-4xl mx-auto">
  <!-- Page Header -->
  <div class="hero-section text-center mb-12">
    <h2 class="section-title mb-4">🔍 订单查询</h2>
    <p class="section-subtitle max-w-2xl mx-auto">
      快速查询您的订单状态，了解商品配送进度
    </p>
  </div>
  
  <!-- 查询说明 -->
  <div class="card p-8 mb-8">
    <div class="flex items-start">
      <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mr-4 mt-1">
        <span class="text-white text-xl">💡</span>
      </div>
      <div>
        <h3 class="text-2xl font-semibold text-gray-800 mb-4">如何查询订单</h3>
        <div class="grid md:grid-cols-3 gap-4">
          <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200">
            <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3">
              <span class="text-white font-bold">1</span>
            </div>
            <p class="text-blue-700 text-sm text-center">请输入您购买时提供的邮箱地址或电话号码</p>
          </div>
          <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200">
            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3">
              <span class="text-white font-bold">2</span>
            </div>
            <p class="text-green-700 text-sm text-center">系统将显示您的所有订单和状态信息</p>
          </div>
          <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200">
            <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3">
              <span class="text-white font-bold">3</span>
            </div>
            <p class="text-purple-700 text-sm text-center">如有任何问题，请直接联系Sara：0225255862</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 查询表单 -->
  <div class="card p-8">
    <div class="text-center mb-6">
      <div class="w-16 h-16 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
        <span class="text-white text-2xl">📋</span>
      </div>
      <h3 class="text-2xl font-semibold text-gray-800">输入您的联系信息</h3>
    </div>
    
    <form method="POST" action="{{ url_for('main.order_query') }}" class="space-y-6">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <div>
        <label for="contact" class="block text-lg font-medium text-gray-700 mb-3">
          邮箱地址或电话号码 <span class="text-red-500">*</span>
        </label>
        <input 
          type="text" 
          id="contact" 
          name="contact" 
          required
          placeholder="请输入您的邮箱地址或电话号码"
          class="w-full px-6 py-4 border-2 border-pink-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300 focus:border-pink-300 bg-white/50 backdrop-blur-sm text-lg"
        >
        <div class="mt-3 p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200">
          <p class="text-sm text-gray-600">
            📝 例如：<span class="font-mono bg-white px-2 py-1 rounded">zhang@example.com</span> 或 <span class="font-mono bg-white px-2 py-1 rounded">021-234-567</span>
          </p>
        </div>
      </div>

      <!-- 验证提示 -->
      <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6">
        <div class="flex items-start">
          <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center mr-4 mt-1">
            <span class="text-white text-lg">⚠️</span>
          </div>
          <div>
            <p class="text-yellow-800 font-semibold text-lg mb-2">🔒 隐私保护</p>
            <p class="text-yellow-700">为保护您的隐私，请确保输入的是您购买时使用的真实联系方式。</p>
          </div>
        </div>
      </div>

      <button 
        type="submit" 
        class="w-full btn-primary py-4 text-lg font-semibold"
      >
        🔍 查询我的订单
      </button>
    </form>
  </div>

  <!-- 其他联系方式 -->
  <div class="mt-12">
    <div class="text-center mb-8">
      <h3 class="text-2xl font-semibold text-gray-800 mb-4">🤔 找不到订单？</h3>
      <p class="text-gray-600">也可以通过以下方式直接联系我：</p>
    </div>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <a href="tel:0225255862" 
         class="card p-6 text-center hover:scale-105 transition-transform duration-300">
        <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-white text-2xl">📞</span>
        </div>
        <h4 class="font-semibold text-gray-800 text-lg mb-2">电话联系</h4>
        <p class="text-green-600 font-bold text-xl mb-2">0225255862</p>
        <p class="text-gray-600 text-sm">工作时间：9:00-21:00</p>
      </a>
      
      <a href="mailto:haixialiu2017@gmail.com" 
         class="card p-6 text-center hover:scale-105 transition-transform duration-300">
        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-white text-2xl">✉️</span>
        </div>
        <h4 class="font-semibold text-gray-800 text-lg mb-2">邮箱联系</h4>
        <p class="text-blue-600 font-bold text-lg mb-2">haixialiu2017@gmail.com</p>
        <p class="text-gray-600 text-sm">24小时内回复</p>
      </a>
    </div>
    
    <div class="mt-8 card p-6">
      <div class="text-center">
        <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-white text-lg">✅</span>
        </div>
        <p class="text-gray-700 font-medium mb-2">承诺2小时内回复您的咨询</p>
        <p class="text-sm text-gray-600">营业时间：周一至周日 9:00-21:00</p>
      </div>
    </div>
  </div>

  <!-- 常见问题 -->
  <div class="mt-8 card p-8">
    <div class="flex items-center mb-6">
      <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-4">
        <span class="text-white text-xl">❓</span>
      </div>
      <h3 class="text-2xl font-semibold text-gray-800">常见问题</h3>
    </div>
    
    <div class="space-y-6">
      <div class="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200">
        <h4 class="font-semibold text-gray-800 mb-3 text-lg">Q: 为什么找不到我的订单？</h4>
        <p class="text-gray-600">📝 A: 请确认您输入的联系方式与购买时提供的一致。如果还是找不到，可能是订单信息录入有误，请直接联系我们。</p>
      </div>
      
      <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200">
        <h4 class="font-semibold text-gray-800 mb-3 text-lg">Q: 订单状态都有哪些？</h4>
        <p class="text-gray-600 mb-3">📋 A: 订单状态包括以下几种：</p>
        <div class="flex flex-wrap gap-2">
          <span class="bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 px-4 py-2 rounded-full text-sm font-medium">🕰️ 待支付</span>
          <span class="bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 px-4 py-2 rounded-full text-sm font-medium">💳 已支付</span>
          <span class="bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 px-4 py-2 rounded-full text-sm font-medium">🚚 已发货</span>
          <span class="bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 px-4 py-2 rounded-full text-sm font-medium">✅ 已完成</span>
        </div>
      </div>
      
      <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200">
        <h4 class="font-semibold text-gray-800 mb-3 text-lg">Q: 如何修改订单信息？</h4>
        <p class="text-gray-600">📞 A: 请直接联系Sara修改订单信息。为确保准确性，建议通过电话沟通。</p>
      </div>
    </div>
  </div>
</div>

<!-- 显示Flash消息 -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="fixed top-8 right-8 z-50 space-y-3">
      {% for category, message in messages %}
        <div class="p-4 rounded-2xl shadow-2xl border backdrop-blur-md transition-all duration-300 {{ 'bg-green-500/90 text-white border-green-400' if category == 'success' else 'bg-red-500/90 text-white border-red-400' if category == 'error' else 'bg-blue-500/90 text-white border-blue-400' }}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
    
    <script>
      // 3秒后自动隐藏消息
      setTimeout(function() {
        const messages = document.querySelectorAll('.fixed.top-8.right-8 > div');
        messages.forEach(msg => {
          msg.style.transform = 'translateX(100%)';
          setTimeout(() => msg.remove(), 300);
        });
      }, 3000);
    </script>
  {% endif %}
{% endwith %}

{% endblock %}