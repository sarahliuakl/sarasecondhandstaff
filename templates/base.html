<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Sara的二手售卖网站{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-orange-50 text-gray-800">
  <!-- Header -->
  <header class="bg-orange-200 shadow">
    <div class="container mx-auto flex justify-between items-center py-4 px-6">
      <h1 class="text-2xl font-bold text-orange-700">Sara的二手售卖</h1>
      <nav class="flex items-center space-x-6">
        <a href="{{ url_for('index') }}" class="text-orange-700 font-semibold hover:underline">首页</a>
        <a href="{{ url_for('products') }}" class="text-orange-700 font-semibold hover:underline">宝贝列表</a>
        <a href="{{ url_for('contact') }}" class="text-orange-700 font-semibold hover:underline">联系我</a>
        <a href="{{ url_for('help_page') }}" class="text-orange-700 font-semibold hover:underline">售卖说明</a>
        <a href="{{ url_for('about') }}" class="text-orange-700 font-semibold hover:underline">关于我</a>
        
        <!-- 购物车 -->
        <a href="{{ url_for('cart') }}" class="relative text-orange-700 font-semibold hover:underline">
          购物车
          <span class="cart-count absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" style="display: none;">0</span>
        </a>
        
        <!-- 订单查询 -->
        <a href="{{ url_for('order_query') }}" class="text-orange-700 font-semibold hover:underline">订单查询</a>
        
        <div class="ml-4 text-sm text-gray-700 align-middle">
          <span id="weather">正在获取天气...</span>
          <span id="localtime" class="ml-2"></span>
        </div>
      </nav>
    </div>
  </header>
  <!-- Main -->
  <main class="container mx-auto px-6 py-10">
    {% block content %}{% endblock %}
  </main>
  <!-- Footer -->
  <footer class="bg-orange-100 mt-10 py-6">
    <div class="container mx-auto text-center text-gray-600">
      © 2025 Sara的二手售卖 | 联系电话：0225255862 | 邮箱：haixialiu2017@gmail.com
    </div>
  </footer>
<script>
function updateTime() {
  // 新西兰奥克兰时区为 UTC+12
  let now = new Date();
  let utc = now.getTime() + (now.getTimezoneOffset() * 60000);
  let auckland = new Date(utc + (12 * 3600000));
  let y = auckland.getFullYear();
  let m = String(auckland.getMonth()+1).padStart(2,'0');
  let d = String(auckland.getDate()).padStart(2,'0');
  let h = String(auckland.getHours()).padStart(2,'0');
  let min = String(auckland.getMinutes()).padStart(2,'0');
  let s = String(auckland.getSeconds()).padStart(2,'0');
  document.getElementById('localtime').textContent = `奥克兰时间：${y}-${m}-${d} ${h}:${min}:${s}`;
}
setInterval(updateTime, 1000);
updateTime();
</script>
   <script>
  fetch("https://api.open-meteo.com/v1/forecast?latitude=-36.8485&longitude=174.7633&current_weather=true")
    .then(response => response.json())
    .then(data => {
      const temp = data.current_weather.temperature;
      const wind = data.current_weather.windspeed;
      document.getElementById("weather").innerText = `奥克兰天气：${temp}℃，风速 ${wind}km/h`;
    })
    .catch(error => {
      document.getElementById("weather").innerText = "天气信息获取失败";
      console.error("天气接口错误：", error);
    });
</script>

</body>
</html>