# Sara二手售卖网站改版计划

## 项目概述

**项目名称：** Sara的二手售卖网站  
**项目类型：** 个人二手商品售卖平台  
**开发目标：** 基于现有Flask框架，完善网站功能，实现完整的前台购物体验  
**开发周期：** 预计3-4周  

## 现状分析

### 已有功能
- ✅ 基础Flask应用框架
- ✅ Tailwind CSS暖色系界面设计
- ✅ 基本页面结构（首页、产品列表、联系我、售卖说明、关于我）
- ✅ 静态产品数据展示
- ✅ 奥克兰天气信息集成
- ✅ 响应式设计基础

### 缺失功能
- ❌ 数据库系统
- ❌ 产品详情页面
- ❌ 购物车功能
- ❌ 订单管理系统
- ❌ 用户留言处理
- ❌ 订单查询功能
- ❌ 支付流程管理
- ❌ 库存管理

## 技术架构

### 后端技术栈
- **框架：** Flask
- **数据库ORM：** SQLAlchemy
- **数据库：** SQLite（便于部署）
- **表单处理：** WTForms
- **会话管理：** Flask-Session

### 前端技术栈
- **CSS框架：** Tailwind CSS（继续使用）
- **JavaScript：** 原生JS（购物车、表单验证等）
- **图标：** 免费图标库

### 数据库设计
```
products (商品表)
├── id (主键)
├── name (商品名称)
├── description (描述)
├── price (价格)
├── category (分类)
├── condition (成色)
├── stock_status (库存状态)
├── images (图片链接，JSON格式)
├── created_at (创建时间)
└── updated_at (更新时间)

orders (订单表)
├── id (主键)
├── order_number (订单号)
├── customer_name (客户姓名)
├── customer_contact (联系方式)
├── customer_email (邮箱)
├── items (商品信息，JSON格式)
├── total_amount (总金额)
├── delivery_method (交付方式)
├── payment_method (支付方式)
├── status (订单状态)
├── notes (备注)
├── created_at (创建时间)
└── updated_at (更新时间)

messages (留言表)
├── id (主键)
├── name (姓名)
├── contact (联系方式)
├── message (留言内容)
├── status (处理状态)
├── reply (回复内容)
├── created_at (创建时间)
└── replied_at (回复时间)
```

## 分阶段开发计划

### 第一阶段：数据库与基础功能（1周）
1. **数据库设计与初始化**
   - 设计数据表结构
   - 创建SQLAlchemy模型
   - 数据库初始化脚本
   - 示例数据导入

2. **产品管理系统**
   - 产品模型完善
   - 产品详情页面
   - 分类筛选功能
   - 图片展示优化

### 第二阶段：购物车与订单系统（1.5周）
3. **购物车功能**
   - 添加到购物车
   - 购物车页面
   - 数量修改
   - 商品移除

4. **订单管理系统**
   - 订单创建流程
   - 支付方式选择
   - 交付方式选择
   - 订单确认页面
   - 订单状态管理

### 第三阶段：用户交互功能（0.5周）
5. **用户留言系统**
   - 留言表单处理
   - 留言存储
   - 留言列表管理

6. **订单查询功能**
   - 订单查询页面
   - 通过邮箱/电话查询
   - 订单详情展示

### 第四阶段：优化与完善（1周）
7. **功能优化**
   - 搜索功能
   - 性能优化
   - 错误处理
   - 表单验证

8. **文档与部署**
   - 项目文档完善
   - 部署说明
   - 用户手册

## 功能需求详细说明

### 购买流程设计
根据项目需求，实现以下购买流程：

1. **产品浏览**
   - 用户浏览产品页面
   - 查看详细信息和多角度图片
   - 显示库存状态和可用的交付/支付方式

2. **添加购物车与结算**
   - 直接添加商品到购物车
   - 在购物车页面选择交付方式和支付方式
   - 系统自动计算总金额（包含邮费）

3. **订单确认**
   - 一次性确认所有信息
   - 显示详细支付说明和风险提示
   - 当面交易：选择现金/扫码支付，约定见面地点
   - 在线转账：选择ANZ银行转账（推荐）或跨行转账

4. **订单生成**
   - 生成唯一订单号
   - 发送确认邮件
   - 提供订单状态查询

### 支付方式说明
- **ANZ银行转账**：即时到账，确认后当日发货
- **跨行转账**：需提前1-2天转账，确认到账后发货
- **当面交易**：现金或扫码支付，约定安全见面地点

### 交付方式
- **当面交易**：奥克兰地区优先，不暴露家庭住址，通过短信确定取货地址
- **邮寄**：新西兰全国，根据地区计算邮费

## 风险控制
- 跨行转账风险提示
- 当面交易安全地点选择
- 订单状态实时跟踪
- 2小时内回复承诺

## 项目交付标准
- [ ] 完整的前台购物功能
- [ ] 响应式移动端适配
- [ ] 数据库完整性
- [ ] 错误处理机制
- [ ] 用户体验优化
- [ ] 项目文档完善
- [ ] 部署说明详细

## 成功标准
1. 用户可以完整完成购买流程
2. 所有页面在移动端正常显示
3. 数据库操作稳定可靠
4. 订单管理功能完善
5. 用户留言系统正常工作
6. 项目易于部署和维护

---
**文档版本：** 1.0  
**创建时间：** 2025-06-24  
**最后更新：** 2025-06-24  
**负责人：** Claude Code Assistant